{"version":3,"sources":["../../../node_modules/@graphiql/react/dist/show-hint.es.js","../../../node_modules/@graphiql/react/dist/hint.es.js","../../../node_modules/@graphiql/react/dist/onlineParser.es.js","../../../node_modules/@graphiql/react/dist/Range.es.js"],"names":["__defProp","Object","defineProperty","__name","target","value","configurable","_mergeNamespaces","n","m","forEach","e","Array","isArray","keys","k","d","getOwnPropertyDescriptor","get","enumerable","freeze","showHint$2","exports","CodeMirror","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","Completion","cm","options","this","widget","debounce","tick","startPos","getCursor","startLen","getLine","line","length","getSelection","updateOnCursorActivity","self","on","activityFunc","cursorActivity","showHint","getHints","async","newOpts","hint","prop","defineExtension","parseOptions","selections","listSelections","somethingSelected","supportsSelection","i","head","anchor","state","completionActive","close","completion","signal","update","requestAnimationFrame","window","fn","setTimeout","cancelAnimationFrame","clearTimeout","pos","editor","hintOptions","out","defaultOptions","resolve","getText","text","buildKeyMap","handle","baseMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","Enter","pick","Tab","Esc","test","navigator","platform","custom","customKeys","ourMap","addBinding","key2","val","bound","hasOwnProperty","key","extra","extraKeys","getHintElement","hintsElement","el","nodeName","toUpperCase","parentNode","Widget","data","id","Math","floor","random","picked","ownerDocument","getInputField","parentWindow","defaultView","hints","createElement","setAttribute","theme","className","selectedHint","completions","list","elt","appendChild","cur","render","createTextNode","displayText","hintId","container","body","cursorCoords","alignWithWord","from","left","top","bottom","below","offsetLeft","offsetTop","offsetParent","indexOf","getComputedStyle","position","offsetParentPosition","getBoundingClientRect","bodyPosition","scrollLeft","scrollTop","style","winW","innerWidth","max","offsetWidth","documentElement","winH","innerHeight","offsetHeight","startScroll","box","moveOnOverlap","DOMRect","scrolls","paddingForScrollbar","scrollHeight","clientHeight","getScrollInfo","height","cursor","ch","closingOnBlur","overlapX","right","display","nativeBarWidth","width","node","firstChild","nextSibling","paddingRight","addKeyMap","keyMap","avoidWrap","changeActive","screenAmount","closeOnUnfocus","onBlur","onFocus","onScroll","curScroll","getWrapperElement","newTop","point","pageYOffset","t","srcElement","completeOnSingleClick","focus","selectedHintRange","getSelectedHintRange","to","scrollToActive","childNodes","applicableHelpers","helpers","result","push","fetchHints","callback","then","resolveAutoHints","words","getHelpers","resolved","cm2","app","run","getHelper","fromList","anyword","prototype","active","off","operation","replaceRange","scrollIntoView","closeOnPick","identStart","closeCharacters","charAt","disable","first","myTick","finishUpdate","completeSingle","removeChild","removeKeyMap","input","removeAttribute","replace","node1","node2","firstNode","margin","scrollMargin","min","registerHelper","term","token","getTokenAt","Pos","start","string","substr","found","word","slice","commands","autocomplete","auto","defineOption","mod","codemirror","showHint$1","__proto__","Symbol","toStringTag","getDefinitionState","tokenState","definitionState","forEachState","kind","getFieldDef","schema","type","fieldName","SchemaMetaFieldDef","name","getQueryType","TypeMetaFieldDef","TypeNameMetaFieldDef","isCompositeType","getFields","stack","reverseStateStack","prevState","objectValues","object","len","values","hintList","filterAndSortList","normalizeText","filterNonEmpty","map","entry","proximity","getProximity","label","pair","isDeprecated","sort","a","b","array","predicate","filtered","filter","toLowerCase","suggestion","lexicalDistance","j","aLength","bLength","cost","SuggestionCommand","command","title","collectFragmentDefs","op","externalFragments","visit","parse","FragmentDefinition","def","_a","getAutocompleteSuggestions","queryText","contextToken","fragmentDefs","opts","assign","getTokenAtPosition","step","typeInfo","getTypeInfo","RuleKinds","DOCUMENT","CompletionItemKind","Function","Constructor","IMPLEMENTS","NAMED_TYPE","getSuggestionsForImplements","SELECTION_SET","FIELD","ALIASED_FIELD","getSuggestionsForFieldNames","ARGUMENTS","ARGUMENT","argDefs","argDef","_a2","insertText","detail","String","documentation","description","Variable","OBJECT_VALUE","OBJECT_FIELD","objectFieldDefs","objectFields","completionKind","Value","Field","field","ENUM_VALUE","LIST_VALUE","getSuggestionsForInputValues","VARIABLE","namedInputType","getNamedType","inputType","getVariableCompletions","v","TYPE_CONDITION","getSuggestionsForFragmentTypeConditions","FRAGMENT_SPREAD","getSuggestionsForFragmentSpread","VARIABLE_DEFINITION","LIST_TYPE","NON_NULL_TYPE","getSuggestionsForVariableDefinition","DIRECTIVE","getSuggestionsForDirective","insertSuffix","getInsertText","isListType","ofType","isNonNullType","parentType","fields","TypeNameMetaFieldDef$1","SchemaMetaFieldDef$1","TypeMetaFieldDef$1","index","sortText","deprecated","Boolean","deprecationReason","insertTextFormat","InsertTextFormat","Snippet","queryVariables","GraphQLEnumType","getValues","EnumMember","concat","GraphQLBoolean","documentText","needsSeparator","schemaInterfaces","getTypeMap","isInterfaceType","schemaInterfaceNames","inlineInterfaces","Set","runOnlineParser","_","_b","_c","_d","_e","INTERFACE_DEF","includes","add","interfaceDef","getInterfaces","find","getType","interfaceConfig","toConfig","GraphQLInterfaceType","interfaces","objectTypeDef","objectTypeConfig","GraphQLObjectType","currentTypeToExtend","siblingInterfaceNames","Interface","_kind","possibleTypes","isAbstractType","abstractType","assertAbstractType","possibleObjTypes","getPossibleTypes","possibleIfaceMap","create","iface","namedType","typeMap","defState","fragments","getFragmentDefinitions","frag","typeCondition","FRAGMENT_DEFINITION","doTypesOverlap","getParentDefinition","_f","_g","_h","_j","_k","variableType","variableName","definitions","parentDefinition","TYPE","toString","Kind","NAME","selectionSet","isInputType","getDirectives","directive","canUseDirective","styleAtCursor","stateAtCursor","stringAtCursor","stream","getCurrentPosition","character","current","end","lines","split","parser","onlineParser","startState","CharacterStream","eol","getStartOfToken","locations","QUERY","DirectiveLocation","MUTATION","SUBSCRIPTION","INLINE_FRAGMENT","SCHEMA_DEF","SCHEMA","SCALAR_DEF","SCALAR","OBJECT_TYPE_DEF","OBJECT","FIELD_DEF","FIELD_DEFINITION","INTERFACE","UNION_DEF","UNION","ENUM_DEF","ENUM","INPUT_DEF","INPUT_OBJECT","INPUT_VALUE_DEF","ARGUMENTS_DEF","ARGUMENT_DEFINITION","INPUT_FIELD_DEFINITION","directiveDef","enumValue","fieldDef","getMutationType","getSubscriptionType","getDirective","args","enumType","nullableType","getNullableType","GraphQLList","objectType","GraphQLInputObjectType","objectField","tokenStart","Position","results","getValue","item","eatWhitespace","eatWhile","isIgnored","lexRules","LexRules","parseRules","ParseRules","editorConfig","initialState","level","rule","pushRule","getToken","inBlockstring","match","skipToEnd","popRule","needsAdvance","advanceRule","sol","tabSize","indentLevel","indentation","lex","SpecialParseRules","backupState","levels","expected","separator","ofRule","call","unsuccessful","Invalid","Comment","rules","ruleKind","TypeError","successful","isList","kinds","sourceText","_start","_pos","_sourceText","peek","next","char","eat","pattern","_testNextCharacter","isMatched","didEat","eatSpace","skipTo","consume","caseFold","regex","RegExp","startsWith","backUp","num","column","indent","whiteSpaces","charCodeAt","Range","containsPosition","lessThanOrEqualTo"],"mappings":"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","file":"static/js/12.a9c8080f.chunk.js","sourcesContent":["var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { a as codemirror } from \"./codemirror.es.js\";\nfunction _mergeNamespaces(n, m) {\n  m.forEach(function(e) {\n    e && typeof e !== \"string\" && !Array.isArray(e) && Object.keys(e).forEach(function(k) {\n      if (k !== \"default\" && !(k in n)) {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function() {\n            return e[k];\n          }\n        });\n      }\n    });\n  });\n  return Object.freeze(n);\n}\n__name(_mergeNamespaces, \"_mergeNamespaces\");\nvar showHint$2 = { exports: {} };\n(function(module, exports) {\n  (function(mod) {\n    mod(codemirror.exports);\n  })(function(CodeMirror) {\n    var HINT_ELEMENT_CLASS = \"CodeMirror-hint\";\n    var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n    CodeMirror.showHint = function(cm, getHints, options) {\n      if (!getHints)\n        return cm.showHint(options);\n      if (options && options.async)\n        getHints.async = true;\n      var newOpts = { hint: getHints };\n      if (options)\n        for (var prop in options)\n          newOpts[prop] = options[prop];\n      return cm.showHint(newOpts);\n    };\n    CodeMirror.defineExtension(\"showHint\", function(options) {\n      options = parseOptions(this, this.getCursor(\"start\"), options);\n      var selections = this.listSelections();\n      if (selections.length > 1)\n        return;\n      if (this.somethingSelected()) {\n        if (!options.hint.supportsSelection)\n          return;\n        for (var i = 0; i < selections.length; i++)\n          if (selections[i].head.line != selections[i].anchor.line)\n            return;\n      }\n      if (this.state.completionActive)\n        this.state.completionActive.close();\n      var completion = this.state.completionActive = new Completion(this, options);\n      if (!completion.options.hint)\n        return;\n      CodeMirror.signal(this, \"startCompletion\", this);\n      completion.update(true);\n    });\n    CodeMirror.defineExtension(\"closeHint\", function() {\n      if (this.state.completionActive)\n        this.state.completionActive.close();\n    });\n    function Completion(cm, options) {\n      this.cm = cm;\n      this.options = options;\n      this.widget = null;\n      this.debounce = 0;\n      this.tick = 0;\n      this.startPos = this.cm.getCursor(\"start\");\n      this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n      if (this.options.updateOnCursorActivity) {\n        var self = this;\n        cm.on(\"cursorActivity\", this.activityFunc = function() {\n          self.cursorActivity();\n        });\n      }\n    }\n    __name(Completion, \"Completion\");\n    var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n      return setTimeout(fn, 1e3 / 60);\n    };\n    var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n    Completion.prototype = {\n      close: function() {\n        if (!this.active())\n          return;\n        this.cm.state.completionActive = null;\n        this.tick = null;\n        if (this.options.updateOnCursorActivity) {\n          this.cm.off(\"cursorActivity\", this.activityFunc);\n        }\n        if (this.widget && this.data)\n          CodeMirror.signal(this.data, \"close\");\n        if (this.widget)\n          this.widget.close();\n        CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n      },\n      active: function() {\n        return this.cm.state.completionActive == this;\n      },\n      pick: function(data, i) {\n        var completion = data.list[i], self = this;\n        this.cm.operation(function() {\n          if (completion.hint)\n            completion.hint(self.cm, data, completion);\n          else\n            self.cm.replaceRange(getText(completion), completion.from || data.from, completion.to || data.to, \"complete\");\n          CodeMirror.signal(data, \"pick\", completion);\n          self.cm.scrollIntoView();\n        });\n        if (this.options.closeOnPick) {\n          this.close();\n        }\n      },\n      cursorActivity: function() {\n        if (this.debounce) {\n          cancelAnimationFrame(this.debounce);\n          this.debounce = 0;\n        }\n        var identStart = this.startPos;\n        if (this.data) {\n          identStart = this.data.from;\n        }\n        var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n        if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch || pos.ch < identStart.ch || this.cm.somethingSelected() || (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n          this.close();\n        } else {\n          var self = this;\n          this.debounce = requestAnimationFrame(function() {\n            self.update();\n          });\n          if (this.widget)\n            this.widget.disable();\n        }\n      },\n      update: function(first) {\n        if (this.tick == null)\n          return;\n        var self = this, myTick = ++this.tick;\n        fetchHints(this.options.hint, this.cm, this.options, function(data) {\n          if (self.tick == myTick)\n            self.finishUpdate(data, first);\n        });\n      },\n      finishUpdate: function(data, first) {\n        if (this.data)\n          CodeMirror.signal(this.data, \"update\");\n        var picked = this.widget && this.widget.picked || first && this.options.completeSingle;\n        if (this.widget)\n          this.widget.close();\n        this.data = data;\n        if (data && data.list.length) {\n          if (picked && data.list.length == 1) {\n            this.pick(data, 0);\n          } else {\n            this.widget = new Widget(this, data);\n            CodeMirror.signal(data, \"shown\");\n          }\n        }\n      }\n    };\n    function parseOptions(cm, pos, options) {\n      var editor = cm.options.hintOptions;\n      var out = {};\n      for (var prop in defaultOptions)\n        out[prop] = defaultOptions[prop];\n      if (editor) {\n        for (var prop in editor)\n          if (editor[prop] !== void 0)\n            out[prop] = editor[prop];\n      }\n      if (options) {\n        for (var prop in options)\n          if (options[prop] !== void 0)\n            out[prop] = options[prop];\n      }\n      if (out.hint.resolve)\n        out.hint = out.hint.resolve(cm, pos);\n      return out;\n    }\n    __name(parseOptions, \"parseOptions\");\n    function getText(completion) {\n      if (typeof completion == \"string\")\n        return completion;\n      else\n        return completion.text;\n    }\n    __name(getText, \"getText\");\n    function buildKeyMap(completion, handle) {\n      var baseMap = {\n        Up: function() {\n          handle.moveFocus(-1);\n        },\n        Down: function() {\n          handle.moveFocus(1);\n        },\n        PageUp: function() {\n          handle.moveFocus(-handle.menuSize() + 1, true);\n        },\n        PageDown: function() {\n          handle.moveFocus(handle.menuSize() - 1, true);\n        },\n        Home: function() {\n          handle.setFocus(0);\n        },\n        End: function() {\n          handle.setFocus(handle.length - 1);\n        },\n        Enter: handle.pick,\n        Tab: handle.pick,\n        Esc: handle.close\n      };\n      var mac = /Mac/.test(navigator.platform);\n      if (mac) {\n        baseMap[\"Ctrl-P\"] = function() {\n          handle.moveFocus(-1);\n        };\n        baseMap[\"Ctrl-N\"] = function() {\n          handle.moveFocus(1);\n        };\n      }\n      var custom = completion.options.customKeys;\n      var ourMap = custom ? {} : baseMap;\n      function addBinding(key2, val) {\n        var bound;\n        if (typeof val != \"string\")\n          bound = /* @__PURE__ */ __name(function(cm) {\n            return val(cm, handle);\n          }, \"bound\");\n        else if (baseMap.hasOwnProperty(val))\n          bound = baseMap[val];\n        else\n          bound = val;\n        ourMap[key2] = bound;\n      }\n      __name(addBinding, \"addBinding\");\n      if (custom) {\n        for (var key in custom)\n          if (custom.hasOwnProperty(key))\n            addBinding(key, custom[key]);\n      }\n      var extra = completion.options.extraKeys;\n      if (extra) {\n        for (var key in extra)\n          if (extra.hasOwnProperty(key))\n            addBinding(key, extra[key]);\n      }\n      return ourMap;\n    }\n    __name(buildKeyMap, \"buildKeyMap\");\n    function getHintElement(hintsElement, el) {\n      while (el && el != hintsElement) {\n        if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement)\n          return el;\n        el = el.parentNode;\n      }\n    }\n    __name(getHintElement, \"getHintElement\");\n    function Widget(completion, data) {\n      this.id = \"cm-complete-\" + Math.floor(Math.random(1e6));\n      this.completion = completion;\n      this.data = data;\n      this.picked = false;\n      var widget = this, cm = completion.cm;\n      var ownerDocument = cm.getInputField().ownerDocument;\n      var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n      var hints = this.hints = ownerDocument.createElement(\"ul\");\n      hints.setAttribute(\"role\", \"listbox\");\n      hints.setAttribute(\"aria-expanded\", \"true\");\n      hints.id = this.id;\n      var theme = completion.cm.options.theme;\n      hints.className = \"CodeMirror-hints \" + theme;\n      this.selectedHint = data.selectedHint || 0;\n      var completions = data.list;\n      for (var i = 0; i < completions.length; ++i) {\n        var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n        var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n        if (cur.className != null)\n          className = cur.className + \" \" + className;\n        elt.className = className;\n        if (i == this.selectedHint)\n          elt.setAttribute(\"aria-selected\", \"true\");\n        elt.id = this.id + \"-\" + i;\n        elt.setAttribute(\"role\", \"option\");\n        if (cur.render)\n          cur.render(elt, data, cur);\n        else\n          elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n        elt.hintId = i;\n      }\n      var container = completion.options.container || ownerDocument.body;\n      var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n      var left = pos.left, top = pos.bottom, below = true;\n      var offsetLeft = 0, offsetTop = 0;\n      if (container !== ownerDocument.body) {\n        var isContainerPositioned = [\"absolute\", \"relative\", \"fixed\"].indexOf(parentWindow.getComputedStyle(container).position) !== -1;\n        var offsetParent = isContainerPositioned ? container : container.offsetParent;\n        var offsetParentPosition = offsetParent.getBoundingClientRect();\n        var bodyPosition = ownerDocument.body.getBoundingClientRect();\n        offsetLeft = offsetParentPosition.left - bodyPosition.left - offsetParent.scrollLeft;\n        offsetTop = offsetParentPosition.top - bodyPosition.top - offsetParent.scrollTop;\n      }\n      hints.style.left = left - offsetLeft + \"px\";\n      hints.style.top = top - offsetTop + \"px\";\n      var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n      var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n      container.appendChild(hints);\n      cm.getInputField().setAttribute(\"aria-autocomplete\", \"list\");\n      cm.getInputField().setAttribute(\"aria-owns\", this.id);\n      cm.getInputField().setAttribute(\"aria-activedescendant\", this.id + \"-\" + this.selectedHint);\n      var box = completion.options.moveOnOverlap ? hints.getBoundingClientRect() : new DOMRect();\n      var scrolls = completion.options.paddingForScrollbar ? hints.scrollHeight > hints.clientHeight + 1 : false;\n      var startScroll;\n      setTimeout(function() {\n        startScroll = cm.getScrollInfo();\n      });\n      var overlapY = box.bottom - winH;\n      if (overlapY > 0) {\n        var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n        if (curTop - height > 0) {\n          hints.style.top = (top = pos.top - height - offsetTop) + \"px\";\n          below = false;\n        } else if (height > winH) {\n          hints.style.height = winH - 5 + \"px\";\n          hints.style.top = (top = pos.bottom - box.top - offsetTop) + \"px\";\n          var cursor = cm.getCursor();\n          if (data.from.ch != cursor.ch) {\n            pos = cm.cursorCoords(cursor);\n            hints.style.left = (left = pos.left - offsetLeft) + \"px\";\n            box = hints.getBoundingClientRect();\n          }\n        }\n      }\n      var overlapX = box.right - winW;\n      if (scrolls)\n        overlapX += cm.display.nativeBarWidth;\n      if (overlapX > 0) {\n        if (box.right - box.left > winW) {\n          hints.style.width = winW - 5 + \"px\";\n          overlapX -= box.right - box.left - winW;\n        }\n        hints.style.left = (left = pos.left - overlapX - offsetLeft) + \"px\";\n      }\n      if (scrolls)\n        for (var node = hints.firstChild; node; node = node.nextSibling)\n          node.style.paddingRight = cm.display.nativeBarWidth + \"px\";\n      cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n        moveFocus: function(n, avoidWrap) {\n          widget.changeActive(widget.selectedHint + n, avoidWrap);\n        },\n        setFocus: function(n) {\n          widget.changeActive(n);\n        },\n        menuSize: function() {\n          return widget.screenAmount();\n        },\n        length: completions.length,\n        close: function() {\n          completion.close();\n        },\n        pick: function() {\n          widget.pick();\n        },\n        data\n      }));\n      if (completion.options.closeOnUnfocus) {\n        var closingOnBlur;\n        cm.on(\"blur\", this.onBlur = function() {\n          closingOnBlur = setTimeout(function() {\n            completion.close();\n          }, 100);\n        });\n        cm.on(\"focus\", this.onFocus = function() {\n          clearTimeout(closingOnBlur);\n        });\n      }\n      cm.on(\"scroll\", this.onScroll = function() {\n        var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n        if (!startScroll)\n          startScroll = cm.getScrollInfo();\n        var newTop = top + startScroll.top - curScroll.top;\n        var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n        if (!below)\n          point += hints.offsetHeight;\n        if (point <= editor.top || point >= editor.bottom)\n          return completion.close();\n        hints.style.top = newTop + \"px\";\n        hints.style.left = left + startScroll.left - curScroll.left + \"px\";\n      });\n      CodeMirror.on(hints, \"dblclick\", function(e) {\n        var t = getHintElement(hints, e.target || e.srcElement);\n        if (t && t.hintId != null) {\n          widget.changeActive(t.hintId);\n          widget.pick();\n        }\n      });\n      CodeMirror.on(hints, \"click\", function(e) {\n        var t = getHintElement(hints, e.target || e.srcElement);\n        if (t && t.hintId != null) {\n          widget.changeActive(t.hintId);\n          if (completion.options.completeOnSingleClick)\n            widget.pick();\n        }\n      });\n      CodeMirror.on(hints, \"mousedown\", function() {\n        setTimeout(function() {\n          cm.focus();\n        }, 20);\n      });\n      var selectedHintRange = this.getSelectedHintRange();\n      if (selectedHintRange.from !== 0 || selectedHintRange.to !== 0) {\n        this.scrollToActive();\n      }\n      CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n      return true;\n    }\n    __name(Widget, \"Widget\");\n    Widget.prototype = {\n      close: function() {\n        if (this.completion.widget != this)\n          return;\n        this.completion.widget = null;\n        if (this.hints.parentNode)\n          this.hints.parentNode.removeChild(this.hints);\n        this.completion.cm.removeKeyMap(this.keyMap);\n        var input = this.completion.cm.getInputField();\n        input.removeAttribute(\"aria-activedescendant\");\n        input.removeAttribute(\"aria-owns\");\n        var cm = this.completion.cm;\n        if (this.completion.options.closeOnUnfocus) {\n          cm.off(\"blur\", this.onBlur);\n          cm.off(\"focus\", this.onFocus);\n        }\n        cm.off(\"scroll\", this.onScroll);\n      },\n      disable: function() {\n        this.completion.cm.removeKeyMap(this.keyMap);\n        var widget = this;\n        this.keyMap = { Enter: function() {\n          widget.picked = true;\n        } };\n        this.completion.cm.addKeyMap(this.keyMap);\n      },\n      pick: function() {\n        this.completion.pick(this.data, this.selectedHint);\n      },\n      changeActive: function(i, avoidWrap) {\n        if (i >= this.data.list.length)\n          i = avoidWrap ? this.data.list.length - 1 : 0;\n        else if (i < 0)\n          i = avoidWrap ? 0 : this.data.list.length - 1;\n        if (this.selectedHint == i)\n          return;\n        var node = this.hints.childNodes[this.selectedHint];\n        if (node) {\n          node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n          node.removeAttribute(\"aria-selected\");\n        }\n        node = this.hints.childNodes[this.selectedHint = i];\n        node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n        node.setAttribute(\"aria-selected\", \"true\");\n        this.completion.cm.getInputField().setAttribute(\"aria-activedescendant\", node.id);\n        this.scrollToActive();\n        CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n      },\n      scrollToActive: function() {\n        var selectedHintRange = this.getSelectedHintRange();\n        var node1 = this.hints.childNodes[selectedHintRange.from];\n        var node2 = this.hints.childNodes[selectedHintRange.to];\n        var firstNode = this.hints.firstChild;\n        if (node1.offsetTop < this.hints.scrollTop)\n          this.hints.scrollTop = node1.offsetTop - firstNode.offsetTop;\n        else if (node2.offsetTop + node2.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n          this.hints.scrollTop = node2.offsetTop + node2.offsetHeight - this.hints.clientHeight + firstNode.offsetTop;\n      },\n      screenAmount: function() {\n        return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n      },\n      getSelectedHintRange: function() {\n        var margin = this.completion.options.scrollMargin || 0;\n        return {\n          from: Math.max(0, this.selectedHint - margin),\n          to: Math.min(this.data.list.length - 1, this.selectedHint + margin)\n        };\n      }\n    };\n    function applicableHelpers(cm, helpers) {\n      if (!cm.somethingSelected())\n        return helpers;\n      var result = [];\n      for (var i = 0; i < helpers.length; i++)\n        if (helpers[i].supportsSelection)\n          result.push(helpers[i]);\n      return result;\n    }\n    __name(applicableHelpers, \"applicableHelpers\");\n    function fetchHints(hint, cm, options, callback) {\n      if (hint.async) {\n        hint(cm, callback, options);\n      } else {\n        var result = hint(cm, options);\n        if (result && result.then)\n          result.then(callback);\n        else\n          callback(result);\n      }\n    }\n    __name(fetchHints, \"fetchHints\");\n    function resolveAutoHints(cm, pos) {\n      var helpers = cm.getHelpers(pos, \"hint\"), words;\n      if (helpers.length) {\n        var resolved = /* @__PURE__ */ __name(function(cm2, callback, options) {\n          var app = applicableHelpers(cm2, helpers);\n          function run(i) {\n            if (i == app.length)\n              return callback(null);\n            fetchHints(app[i], cm2, options, function(result) {\n              if (result && result.list.length > 0)\n                callback(result);\n              else\n                run(i + 1);\n            });\n          }\n          __name(run, \"run\");\n          run(0);\n        }, \"resolved\");\n        resolved.async = true;\n        resolved.supportsSelection = true;\n        return resolved;\n      } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n        return function(cm2) {\n          return CodeMirror.hint.fromList(cm2, { words });\n        };\n      } else if (CodeMirror.hint.anyword) {\n        return function(cm2, options) {\n          return CodeMirror.hint.anyword(cm2, options);\n        };\n      } else {\n        return function() {\n        };\n      }\n    }\n    __name(resolveAutoHints, \"resolveAutoHints\");\n    CodeMirror.registerHelper(\"hint\", \"auto\", {\n      resolve: resolveAutoHints\n    });\n    CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n      var cur = cm.getCursor(), token = cm.getTokenAt(cur);\n      var term, from = CodeMirror.Pos(cur.line, token.start), to = cur;\n      if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n        term = token.string.substr(0, cur.ch - token.start);\n      } else {\n        term = \"\";\n        from = cur;\n      }\n      var found = [];\n      for (var i = 0; i < options.words.length; i++) {\n        var word = options.words[i];\n        if (word.slice(0, term.length) == term)\n          found.push(word);\n      }\n      if (found.length)\n        return { list: found, from, to };\n    });\n    CodeMirror.commands.autocomplete = CodeMirror.showHint;\n    var defaultOptions = {\n      hint: CodeMirror.hint.auto,\n      completeSingle: true,\n      alignWithWord: true,\n      closeCharacters: /[\\s()\\[\\]{};:>,]/,\n      closeOnPick: true,\n      closeOnUnfocus: true,\n      updateOnCursorActivity: true,\n      completeOnSingleClick: true,\n      container: null,\n      customKeys: null,\n      extraKeys: null,\n      paddingForScrollbar: true,\n      moveOnOverlap: true\n    };\n    CodeMirror.defineOption(\"hintOptions\", null);\n  });\n})();\nvar showHint = showHint$2.exports;\nvar showHint$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ _mergeNamespaces({\n  __proto__: null,\n  [Symbol.toStringTag]: \"Module\",\n  \"default\": showHint\n}, [showHint$2.exports]));\nexport { showHint$1 as s };\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { C as CodeMirror } from \"./codemirror.es.js\";\nimport \"./show-hint.es.js\";\nimport { isCompositeType, getNamedType, TypeNameMetaFieldDef as TypeNameMetaFieldDef$1, SchemaMetaFieldDef as SchemaMetaFieldDef$1, TypeMetaFieldDef as TypeMetaFieldDef$1, GraphQLEnumType, GraphQLBoolean, isInterfaceType, isAbstractType, assertAbstractType, doTypesOverlap, isInputType, DirectiveLocation, visit, parse, isListType, isNonNullType, GraphQLInterfaceType, GraphQLObjectType, Kind, GraphQLInputObjectType, getNullableType, GraphQLList } from \"graphql\";\nimport { R as RuleKinds, C as CompletionItemKind, I as InsertTextFormat } from \"./index.es.js\";\nimport { C as CharacterStream, P as Position } from \"./Range.es.js\";\nimport { o as onlineParser } from \"./onlineParser.es.js\";\nimport { S as SchemaMetaFieldDef, T as TypeMetaFieldDef, a as TypeNameMetaFieldDef } from \"./introspection.es.js\";\nimport \"react\";\nimport \"react-dom\";\nfunction getDefinitionState(tokenState) {\n  let definitionState;\n  forEachState(tokenState, (state) => {\n    switch (state.kind) {\n      case \"Query\":\n      case \"ShortQuery\":\n      case \"Mutation\":\n      case \"Subscription\":\n      case \"FragmentDefinition\":\n        definitionState = state;\n        break;\n    }\n  });\n  return definitionState;\n}\n__name(getDefinitionState, \"getDefinitionState\");\nfunction getFieldDef(schema, type, fieldName) {\n  if (fieldName === SchemaMetaFieldDef.name && schema.getQueryType() === type) {\n    return SchemaMetaFieldDef;\n  }\n  if (fieldName === TypeMetaFieldDef.name && schema.getQueryType() === type) {\n    return TypeMetaFieldDef;\n  }\n  if (fieldName === TypeNameMetaFieldDef.name && isCompositeType(type)) {\n    return TypeNameMetaFieldDef;\n  }\n  if (\"getFields\" in type) {\n    return type.getFields()[fieldName];\n  }\n  return null;\n}\n__name(getFieldDef, \"getFieldDef\");\nfunction forEachState(stack, fn) {\n  const reverseStateStack = [];\n  let state = stack;\n  while (state === null || state === void 0 ? void 0 : state.kind) {\n    reverseStateStack.push(state);\n    state = state.prevState;\n  }\n  for (let i = reverseStateStack.length - 1; i >= 0; i--) {\n    fn(reverseStateStack[i]);\n  }\n}\n__name(forEachState, \"forEachState\");\nfunction objectValues(object) {\n  const keys = Object.keys(object);\n  const len = keys.length;\n  const values = new Array(len);\n  for (let i = 0; i < len; ++i) {\n    values[i] = object[keys[i]];\n  }\n  return values;\n}\n__name(objectValues, \"objectValues\");\nfunction hintList(token, list) {\n  return filterAndSortList(list, normalizeText(token.string));\n}\n__name(hintList, \"hintList\");\nfunction filterAndSortList(list, text) {\n  if (!text) {\n    return filterNonEmpty(list, (entry) => !entry.isDeprecated);\n  }\n  const byProximity = list.map((entry) => ({\n    proximity: getProximity(normalizeText(entry.label), text),\n    entry\n  }));\n  return filterNonEmpty(filterNonEmpty(byProximity, (pair) => pair.proximity <= 2), (pair) => !pair.entry.isDeprecated).sort((a, b) => (a.entry.isDeprecated ? 1 : 0) - (b.entry.isDeprecated ? 1 : 0) || a.proximity - b.proximity || a.entry.label.length - b.entry.label.length).map((pair) => pair.entry);\n}\n__name(filterAndSortList, \"filterAndSortList\");\nfunction filterNonEmpty(array, predicate) {\n  const filtered = array.filter(predicate);\n  return filtered.length === 0 ? array : filtered;\n}\n__name(filterNonEmpty, \"filterNonEmpty\");\nfunction normalizeText(text) {\n  return text.toLowerCase().replace(/\\W/g, \"\");\n}\n__name(normalizeText, \"normalizeText\");\nfunction getProximity(suggestion, text) {\n  let proximity = lexicalDistance(text, suggestion);\n  if (suggestion.length > text.length) {\n    proximity -= suggestion.length - text.length - 1;\n    proximity += suggestion.indexOf(text) === 0 ? 0 : 0.5;\n  }\n  return proximity;\n}\n__name(getProximity, \"getProximity\");\nfunction lexicalDistance(a, b) {\n  let i;\n  let j;\n  const d = [];\n  const aLength = a.length;\n  const bLength = b.length;\n  for (i = 0; i <= aLength; i++) {\n    d[i] = [i];\n  }\n  for (j = 1; j <= bLength; j++) {\n    d[0][j] = j;\n  }\n  for (i = 1; i <= aLength; i++) {\n    for (j = 1; j <= bLength; j++) {\n      const cost = a[i - 1] === b[j - 1] ? 0 : 1;\n      d[i][j] = Math.min(d[i - 1][j] + 1, d[i][j - 1] + 1, d[i - 1][j - 1] + cost);\n      if (i > 1 && j > 1 && a[i - 1] === b[j - 2] && a[i - 2] === b[j - 1]) {\n        d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + cost);\n      }\n    }\n  }\n  return d[aLength][bLength];\n}\n__name(lexicalDistance, \"lexicalDistance\");\nconst SuggestionCommand = {\n  command: \"editor.action.triggerSuggest\",\n  title: \"Suggestions\"\n};\nconst collectFragmentDefs = /* @__PURE__ */ __name((op) => {\n  const externalFragments = [];\n  if (op) {\n    try {\n      visit(parse(op), {\n        FragmentDefinition(def) {\n          externalFragments.push(def);\n        }\n      });\n    } catch (_a) {\n      return [];\n    }\n  }\n  return externalFragments;\n}, \"collectFragmentDefs\");\nfunction getAutocompleteSuggestions(schema, queryText, cursor, contextToken, fragmentDefs, options) {\n  var _a;\n  const opts = Object.assign(Object.assign({}, options), { schema });\n  const token = contextToken || getTokenAtPosition(queryText, cursor);\n  const state = token.state.kind === \"Invalid\" ? token.state.prevState : token.state;\n  if (!state) {\n    return [];\n  }\n  const kind = state.kind;\n  const step = state.step;\n  const typeInfo = getTypeInfo(schema, token.state);\n  if (kind === RuleKinds.DOCUMENT) {\n    return hintList(token, [\n      { label: \"query\", kind: CompletionItemKind.Function },\n      { label: \"mutation\", kind: CompletionItemKind.Function },\n      { label: \"subscription\", kind: CompletionItemKind.Function },\n      { label: \"fragment\", kind: CompletionItemKind.Function },\n      { label: \"{\", kind: CompletionItemKind.Constructor }\n    ]);\n  }\n  if (kind === RuleKinds.IMPLEMENTS || kind === RuleKinds.NAMED_TYPE && ((_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind) === RuleKinds.IMPLEMENTS) {\n    return getSuggestionsForImplements(token, state, schema, queryText, typeInfo);\n  }\n  if (kind === RuleKinds.SELECTION_SET || kind === RuleKinds.FIELD || kind === RuleKinds.ALIASED_FIELD) {\n    return getSuggestionsForFieldNames(token, typeInfo, opts);\n  }\n  if (kind === RuleKinds.ARGUMENTS || kind === RuleKinds.ARGUMENT && step === 0) {\n    const argDefs = typeInfo.argDefs;\n    if (argDefs) {\n      return hintList(token, argDefs.map((argDef) => {\n        var _a2;\n        return {\n          label: argDef.name,\n          insertText: argDef.name + \": \",\n          command: SuggestionCommand,\n          detail: String(argDef.type),\n          documentation: (_a2 = argDef.description) !== null && _a2 !== void 0 ? _a2 : void 0,\n          kind: CompletionItemKind.Variable,\n          type: argDef.type\n        };\n      }));\n    }\n  }\n  if (kind === RuleKinds.OBJECT_VALUE || kind === RuleKinds.OBJECT_FIELD && step === 0) {\n    if (typeInfo.objectFieldDefs) {\n      const objectFields = objectValues(typeInfo.objectFieldDefs);\n      const completionKind = kind === RuleKinds.OBJECT_VALUE ? CompletionItemKind.Value : CompletionItemKind.Field;\n      return hintList(token, objectFields.map((field) => {\n        var _a2;\n        return {\n          label: field.name,\n          detail: String(field.type),\n          documentation: (_a2 = field.description) !== null && _a2 !== void 0 ? _a2 : void 0,\n          kind: completionKind,\n          type: field.type\n        };\n      }));\n    }\n  }\n  if (kind === RuleKinds.ENUM_VALUE || kind === RuleKinds.LIST_VALUE && step === 1 || kind === RuleKinds.OBJECT_FIELD && step === 2 || kind === RuleKinds.ARGUMENT && step === 2) {\n    return getSuggestionsForInputValues(token, typeInfo, queryText, schema);\n  }\n  if (kind === RuleKinds.VARIABLE && step === 1) {\n    const namedInputType = getNamedType(typeInfo.inputType);\n    const variableDefinitions = getVariableCompletions(queryText, schema, token);\n    return hintList(token, variableDefinitions.filter((v) => v.detail === (namedInputType === null || namedInputType === void 0 ? void 0 : namedInputType.name)));\n  }\n  if (kind === RuleKinds.TYPE_CONDITION && step === 1 || kind === RuleKinds.NAMED_TYPE && state.prevState != null && state.prevState.kind === RuleKinds.TYPE_CONDITION) {\n    return getSuggestionsForFragmentTypeConditions(token, typeInfo, schema);\n  }\n  if (kind === RuleKinds.FRAGMENT_SPREAD && step === 1) {\n    return getSuggestionsForFragmentSpread(token, typeInfo, schema, queryText, Array.isArray(fragmentDefs) ? fragmentDefs : collectFragmentDefs(fragmentDefs));\n  }\n  if (kind === RuleKinds.VARIABLE_DEFINITION && step === 2 || kind === RuleKinds.LIST_TYPE && step === 1 || kind === RuleKinds.NAMED_TYPE && state.prevState && (state.prevState.kind === RuleKinds.VARIABLE_DEFINITION || state.prevState.kind === RuleKinds.LIST_TYPE || state.prevState.kind === RuleKinds.NON_NULL_TYPE)) {\n    return getSuggestionsForVariableDefinition(token, schema);\n  }\n  if (kind === RuleKinds.DIRECTIVE) {\n    return getSuggestionsForDirective(token, state, schema);\n  }\n  return [];\n}\n__name(getAutocompleteSuggestions, \"getAutocompleteSuggestions\");\nconst insertSuffix = ` {\n  $1\n}`;\nconst getInsertText = /* @__PURE__ */ __name((field) => {\n  const type = field.type;\n  if (isCompositeType(type)) {\n    return insertSuffix;\n  }\n  if (isListType(type) && isCompositeType(type.ofType)) {\n    return insertSuffix;\n  }\n  if (isNonNullType(type)) {\n    if (isCompositeType(type.ofType)) {\n      return insertSuffix;\n    }\n    if (isListType(type.ofType) && isCompositeType(type.ofType.ofType)) {\n      return insertSuffix;\n    }\n  }\n  return null;\n}, \"getInsertText\");\nfunction getSuggestionsForFieldNames(token, typeInfo, options) {\n  var _a;\n  if (typeInfo.parentType) {\n    const parentType = typeInfo.parentType;\n    let fields = [];\n    if (\"getFields\" in parentType) {\n      fields = objectValues(parentType.getFields());\n    }\n    if (isCompositeType(parentType)) {\n      fields.push(TypeNameMetaFieldDef$1);\n    }\n    if (parentType === ((_a = options === null || options === void 0 ? void 0 : options.schema) === null || _a === void 0 ? void 0 : _a.getQueryType())) {\n      fields.push(SchemaMetaFieldDef$1, TypeMetaFieldDef$1);\n    }\n    return hintList(token, fields.map((field, index) => {\n      var _a2;\n      const suggestion = {\n        sortText: String(index) + field.name,\n        label: field.name,\n        detail: String(field.type),\n        documentation: (_a2 = field.description) !== null && _a2 !== void 0 ? _a2 : void 0,\n        deprecated: Boolean(field.deprecationReason),\n        isDeprecated: Boolean(field.deprecationReason),\n        deprecationReason: field.deprecationReason,\n        kind: CompletionItemKind.Field,\n        type: field.type\n      };\n      const insertText = getInsertText(field);\n      if (insertText) {\n        suggestion.insertText = field.name + insertText;\n        suggestion.insertTextFormat = InsertTextFormat.Snippet;\n        suggestion.command = SuggestionCommand;\n      }\n      return suggestion;\n    }));\n  }\n  return [];\n}\n__name(getSuggestionsForFieldNames, \"getSuggestionsForFieldNames\");\nfunction getSuggestionsForInputValues(token, typeInfo, queryText, schema) {\n  const namedInputType = getNamedType(typeInfo.inputType);\n  const queryVariables = getVariableCompletions(queryText, schema, token).filter((v) => v.detail === namedInputType.name);\n  if (namedInputType instanceof GraphQLEnumType) {\n    const values = namedInputType.getValues();\n    return hintList(token, values.map((value) => {\n      var _a;\n      return {\n        label: value.name,\n        detail: String(namedInputType),\n        documentation: (_a = value.description) !== null && _a !== void 0 ? _a : void 0,\n        deprecated: Boolean(value.deprecationReason),\n        isDeprecated: Boolean(value.deprecationReason),\n        deprecationReason: value.deprecationReason,\n        kind: CompletionItemKind.EnumMember,\n        type: namedInputType\n      };\n    }).concat(queryVariables));\n  } else if (namedInputType === GraphQLBoolean) {\n    return hintList(token, queryVariables.concat([\n      {\n        label: \"true\",\n        detail: String(GraphQLBoolean),\n        documentation: \"Not false.\",\n        kind: CompletionItemKind.Variable,\n        type: GraphQLBoolean\n      },\n      {\n        label: \"false\",\n        detail: String(GraphQLBoolean),\n        documentation: \"Not true.\",\n        kind: CompletionItemKind.Variable,\n        type: GraphQLBoolean\n      }\n    ]));\n  }\n  return queryVariables;\n}\n__name(getSuggestionsForInputValues, \"getSuggestionsForInputValues\");\nfunction getSuggestionsForImplements(token, tokenState, schema, documentText, typeInfo) {\n  if (tokenState.needsSeparator) {\n    return [];\n  }\n  const typeMap = schema.getTypeMap();\n  const schemaInterfaces = objectValues(typeMap).filter(isInterfaceType);\n  const schemaInterfaceNames = schemaInterfaces.map(({ name }) => name);\n  const inlineInterfaces = /* @__PURE__ */ new Set();\n  runOnlineParser(documentText, (_, state) => {\n    var _a, _b, _c, _d, _e;\n    if (state.name) {\n      if (state.kind === RuleKinds.INTERFACE_DEF && !schemaInterfaceNames.includes(state.name)) {\n        inlineInterfaces.add(state.name);\n      }\n      if (state.kind === RuleKinds.NAMED_TYPE && ((_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind) === RuleKinds.IMPLEMENTS) {\n        if (typeInfo.interfaceDef) {\n          const existingType = (_b = typeInfo.interfaceDef) === null || _b === void 0 ? void 0 : _b.getInterfaces().find(({ name }) => name === state.name);\n          if (existingType) {\n            return;\n          }\n          const type = schema.getType(state.name);\n          const interfaceConfig = (_c = typeInfo.interfaceDef) === null || _c === void 0 ? void 0 : _c.toConfig();\n          typeInfo.interfaceDef = new GraphQLInterfaceType(Object.assign(Object.assign({}, interfaceConfig), { interfaces: [\n            ...interfaceConfig.interfaces,\n            type || new GraphQLInterfaceType({ name: state.name, fields: {} })\n          ] }));\n        } else if (typeInfo.objectTypeDef) {\n          const existingType = (_d = typeInfo.objectTypeDef) === null || _d === void 0 ? void 0 : _d.getInterfaces().find(({ name }) => name === state.name);\n          if (existingType) {\n            return;\n          }\n          const type = schema.getType(state.name);\n          const objectTypeConfig = (_e = typeInfo.objectTypeDef) === null || _e === void 0 ? void 0 : _e.toConfig();\n          typeInfo.objectTypeDef = new GraphQLObjectType(Object.assign(Object.assign({}, objectTypeConfig), { interfaces: [\n            ...objectTypeConfig.interfaces,\n            type || new GraphQLInterfaceType({ name: state.name, fields: {} })\n          ] }));\n        }\n      }\n    }\n  });\n  const currentTypeToExtend = typeInfo.interfaceDef || typeInfo.objectTypeDef;\n  const siblingInterfaces = (currentTypeToExtend === null || currentTypeToExtend === void 0 ? void 0 : currentTypeToExtend.getInterfaces()) || [];\n  const siblingInterfaceNames = siblingInterfaces.map(({ name }) => name);\n  const possibleInterfaces = schemaInterfaces.concat([...inlineInterfaces].map((name) => ({ name }))).filter(({ name }) => name !== (currentTypeToExtend === null || currentTypeToExtend === void 0 ? void 0 : currentTypeToExtend.name) && !siblingInterfaceNames.includes(name));\n  return hintList(token, possibleInterfaces.map((type) => {\n    const result = {\n      label: type.name,\n      kind: CompletionItemKind.Interface,\n      type\n    };\n    if (type === null || type === void 0 ? void 0 : type.description) {\n      result.documentation = type.description;\n    }\n    return result;\n  }));\n}\n__name(getSuggestionsForImplements, \"getSuggestionsForImplements\");\nfunction getSuggestionsForFragmentTypeConditions(token, typeInfo, schema, _kind) {\n  let possibleTypes;\n  if (typeInfo.parentType) {\n    if (isAbstractType(typeInfo.parentType)) {\n      const abstractType = assertAbstractType(typeInfo.parentType);\n      const possibleObjTypes = schema.getPossibleTypes(abstractType);\n      const possibleIfaceMap = /* @__PURE__ */ Object.create(null);\n      possibleObjTypes.forEach((type) => {\n        type.getInterfaces().forEach((iface) => {\n          possibleIfaceMap[iface.name] = iface;\n        });\n      });\n      possibleTypes = possibleObjTypes.concat(objectValues(possibleIfaceMap));\n    } else {\n      possibleTypes = [typeInfo.parentType];\n    }\n  } else {\n    const typeMap = schema.getTypeMap();\n    possibleTypes = objectValues(typeMap).filter(isCompositeType);\n  }\n  return hintList(token, possibleTypes.map((type) => {\n    const namedType = getNamedType(type);\n    return {\n      label: String(type),\n      documentation: (namedType === null || namedType === void 0 ? void 0 : namedType.description) || \"\",\n      kind: CompletionItemKind.Field\n    };\n  }));\n}\n__name(getSuggestionsForFragmentTypeConditions, \"getSuggestionsForFragmentTypeConditions\");\nfunction getSuggestionsForFragmentSpread(token, typeInfo, schema, queryText, fragmentDefs) {\n  if (!queryText) {\n    return [];\n  }\n  const typeMap = schema.getTypeMap();\n  const defState = getDefinitionState(token.state);\n  const fragments = getFragmentDefinitions(queryText);\n  if (fragmentDefs && fragmentDefs.length > 0) {\n    fragments.push(...fragmentDefs);\n  }\n  const relevantFrags = fragments.filter((frag) => typeMap[frag.typeCondition.name.value] && !(defState && defState.kind === RuleKinds.FRAGMENT_DEFINITION && defState.name === frag.name.value) && isCompositeType(typeInfo.parentType) && isCompositeType(typeMap[frag.typeCondition.name.value]) && doTypesOverlap(schema, typeInfo.parentType, typeMap[frag.typeCondition.name.value]));\n  return hintList(token, relevantFrags.map((frag) => ({\n    label: frag.name.value,\n    detail: String(typeMap[frag.typeCondition.name.value]),\n    documentation: `fragment ${frag.name.value} on ${frag.typeCondition.name.value}`,\n    kind: CompletionItemKind.Field,\n    type: typeMap[frag.typeCondition.name.value]\n  })));\n}\n__name(getSuggestionsForFragmentSpread, \"getSuggestionsForFragmentSpread\");\nconst getParentDefinition = /* @__PURE__ */ __name((state, kind) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n  if (((_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind) === kind) {\n    return state.prevState;\n  }\n  if (((_c = (_b = state.prevState) === null || _b === void 0 ? void 0 : _b.prevState) === null || _c === void 0 ? void 0 : _c.kind) === kind) {\n    return state.prevState.prevState;\n  }\n  if (((_f = (_e = (_d = state.prevState) === null || _d === void 0 ? void 0 : _d.prevState) === null || _e === void 0 ? void 0 : _e.prevState) === null || _f === void 0 ? void 0 : _f.kind) === kind) {\n    return state.prevState.prevState.prevState;\n  }\n  if (((_k = (_j = (_h = (_g = state.prevState) === null || _g === void 0 ? void 0 : _g.prevState) === null || _h === void 0 ? void 0 : _h.prevState) === null || _j === void 0 ? void 0 : _j.prevState) === null || _k === void 0 ? void 0 : _k.kind) === kind) {\n    return state.prevState.prevState.prevState.prevState;\n  }\n}, \"getParentDefinition\");\nfunction getVariableCompletions(queryText, schema, token) {\n  let variableName = null;\n  let variableType;\n  const definitions = /* @__PURE__ */ Object.create({});\n  runOnlineParser(queryText, (_, state) => {\n    if ((state === null || state === void 0 ? void 0 : state.kind) === RuleKinds.VARIABLE && state.name) {\n      variableName = state.name;\n    }\n    if ((state === null || state === void 0 ? void 0 : state.kind) === RuleKinds.NAMED_TYPE && variableName) {\n      const parentDefinition = getParentDefinition(state, RuleKinds.TYPE);\n      if (parentDefinition === null || parentDefinition === void 0 ? void 0 : parentDefinition.type) {\n        variableType = schema.getType(parentDefinition === null || parentDefinition === void 0 ? void 0 : parentDefinition.type);\n      }\n    }\n    if (variableName && variableType) {\n      if (!definitions[variableName]) {\n        definitions[variableName] = {\n          detail: variableType.toString(),\n          insertText: token.string === \"$\" ? variableName : \"$\" + variableName,\n          label: variableName,\n          type: variableType,\n          kind: CompletionItemKind.Variable\n        };\n        variableName = null;\n        variableType = null;\n      }\n    }\n  });\n  return objectValues(definitions);\n}\n__name(getVariableCompletions, \"getVariableCompletions\");\nfunction getFragmentDefinitions(queryText) {\n  const fragmentDefs = [];\n  runOnlineParser(queryText, (_, state) => {\n    if (state.kind === RuleKinds.FRAGMENT_DEFINITION && state.name && state.type) {\n      fragmentDefs.push({\n        kind: RuleKinds.FRAGMENT_DEFINITION,\n        name: {\n          kind: Kind.NAME,\n          value: state.name\n        },\n        selectionSet: {\n          kind: RuleKinds.SELECTION_SET,\n          selections: []\n        },\n        typeCondition: {\n          kind: RuleKinds.NAMED_TYPE,\n          name: {\n            kind: Kind.NAME,\n            value: state.type\n          }\n        }\n      });\n    }\n  });\n  return fragmentDefs;\n}\n__name(getFragmentDefinitions, \"getFragmentDefinitions\");\nfunction getSuggestionsForVariableDefinition(token, schema, _kind) {\n  const inputTypeMap = schema.getTypeMap();\n  const inputTypes = objectValues(inputTypeMap).filter(isInputType);\n  return hintList(token, inputTypes.map((type) => ({\n    label: type.name,\n    documentation: type.description,\n    kind: CompletionItemKind.Variable\n  })));\n}\n__name(getSuggestionsForVariableDefinition, \"getSuggestionsForVariableDefinition\");\nfunction getSuggestionsForDirective(token, state, schema, _kind) {\n  var _a;\n  if ((_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind) {\n    const directives = schema.getDirectives().filter((directive) => canUseDirective(state.prevState, directive));\n    return hintList(token, directives.map((directive) => ({\n      label: directive.name,\n      documentation: directive.description || \"\",\n      kind: CompletionItemKind.Function\n    })));\n  }\n  return [];\n}\n__name(getSuggestionsForDirective, \"getSuggestionsForDirective\");\nfunction getTokenAtPosition(queryText, cursor) {\n  let styleAtCursor = null;\n  let stateAtCursor = null;\n  let stringAtCursor = null;\n  const token = runOnlineParser(queryText, (stream, state, style, index) => {\n    if (index === cursor.line) {\n      if (stream.getCurrentPosition() >= cursor.character) {\n        styleAtCursor = style;\n        stateAtCursor = Object.assign({}, state);\n        stringAtCursor = stream.current();\n        return \"BREAK\";\n      }\n    }\n  });\n  return {\n    start: token.start,\n    end: token.end,\n    string: stringAtCursor || token.string,\n    state: stateAtCursor || token.state,\n    style: styleAtCursor || token.style\n  };\n}\n__name(getTokenAtPosition, \"getTokenAtPosition\");\nfunction runOnlineParser(queryText, callback) {\n  const lines = queryText.split(\"\\n\");\n  const parser = onlineParser();\n  let state = parser.startState();\n  let style = \"\";\n  let stream = new CharacterStream(\"\");\n  for (let i = 0; i < lines.length; i++) {\n    stream = new CharacterStream(lines[i]);\n    while (!stream.eol()) {\n      style = parser.token(stream, state);\n      const code = callback(stream, state, style, i);\n      if (code === \"BREAK\") {\n        break;\n      }\n    }\n    callback(stream, state, style, i);\n    if (!state.kind) {\n      state = parser.startState();\n    }\n  }\n  return {\n    start: stream.getStartOfToken(),\n    end: stream.getCurrentPosition(),\n    string: stream.current(),\n    state,\n    style\n  };\n}\n__name(runOnlineParser, \"runOnlineParser\");\nfunction canUseDirective(state, directive) {\n  var _a;\n  if (!state || !state.kind) {\n    return false;\n  }\n  const kind = state.kind;\n  const locations = directive.locations;\n  switch (kind) {\n    case RuleKinds.QUERY:\n      return locations.indexOf(DirectiveLocation.QUERY) !== -1;\n    case RuleKinds.MUTATION:\n      return locations.indexOf(DirectiveLocation.MUTATION) !== -1;\n    case RuleKinds.SUBSCRIPTION:\n      return locations.indexOf(DirectiveLocation.SUBSCRIPTION) !== -1;\n    case RuleKinds.FIELD:\n    case RuleKinds.ALIASED_FIELD:\n      return locations.indexOf(DirectiveLocation.FIELD) !== -1;\n    case RuleKinds.FRAGMENT_DEFINITION:\n      return locations.indexOf(DirectiveLocation.FRAGMENT_DEFINITION) !== -1;\n    case RuleKinds.FRAGMENT_SPREAD:\n      return locations.indexOf(DirectiveLocation.FRAGMENT_SPREAD) !== -1;\n    case RuleKinds.INLINE_FRAGMENT:\n      return locations.indexOf(DirectiveLocation.INLINE_FRAGMENT) !== -1;\n    case RuleKinds.SCHEMA_DEF:\n      return locations.indexOf(DirectiveLocation.SCHEMA) !== -1;\n    case RuleKinds.SCALAR_DEF:\n      return locations.indexOf(DirectiveLocation.SCALAR) !== -1;\n    case RuleKinds.OBJECT_TYPE_DEF:\n      return locations.indexOf(DirectiveLocation.OBJECT) !== -1;\n    case RuleKinds.FIELD_DEF:\n      return locations.indexOf(DirectiveLocation.FIELD_DEFINITION) !== -1;\n    case RuleKinds.INTERFACE_DEF:\n      return locations.indexOf(DirectiveLocation.INTERFACE) !== -1;\n    case RuleKinds.UNION_DEF:\n      return locations.indexOf(DirectiveLocation.UNION) !== -1;\n    case RuleKinds.ENUM_DEF:\n      return locations.indexOf(DirectiveLocation.ENUM) !== -1;\n    case RuleKinds.ENUM_VALUE:\n      return locations.indexOf(DirectiveLocation.ENUM_VALUE) !== -1;\n    case RuleKinds.INPUT_DEF:\n      return locations.indexOf(DirectiveLocation.INPUT_OBJECT) !== -1;\n    case RuleKinds.INPUT_VALUE_DEF:\n      const prevStateKind = (_a = state.prevState) === null || _a === void 0 ? void 0 : _a.kind;\n      switch (prevStateKind) {\n        case RuleKinds.ARGUMENTS_DEF:\n          return locations.indexOf(DirectiveLocation.ARGUMENT_DEFINITION) !== -1;\n        case RuleKinds.INPUT_DEF:\n          return locations.indexOf(DirectiveLocation.INPUT_FIELD_DEFINITION) !== -1;\n      }\n  }\n  return false;\n}\n__name(canUseDirective, \"canUseDirective\");\nfunction getTypeInfo(schema, tokenState) {\n  let argDef;\n  let argDefs;\n  let directiveDef;\n  let enumValue;\n  let fieldDef;\n  let inputType;\n  let objectTypeDef;\n  let objectFieldDefs;\n  let parentType;\n  let type;\n  let interfaceDef;\n  forEachState(tokenState, (state) => {\n    var _a;\n    switch (state.kind) {\n      case RuleKinds.QUERY:\n      case \"ShortQuery\":\n        type = schema.getQueryType();\n        break;\n      case RuleKinds.MUTATION:\n        type = schema.getMutationType();\n        break;\n      case RuleKinds.SUBSCRIPTION:\n        type = schema.getSubscriptionType();\n        break;\n      case RuleKinds.INLINE_FRAGMENT:\n      case RuleKinds.FRAGMENT_DEFINITION:\n        if (state.type) {\n          type = schema.getType(state.type);\n        }\n        break;\n      case RuleKinds.FIELD:\n      case RuleKinds.ALIASED_FIELD: {\n        if (!type || !state.name) {\n          fieldDef = null;\n        } else {\n          fieldDef = parentType ? getFieldDef(schema, parentType, state.name) : null;\n          type = fieldDef ? fieldDef.type : null;\n        }\n        break;\n      }\n      case RuleKinds.SELECTION_SET:\n        parentType = getNamedType(type);\n        break;\n      case RuleKinds.DIRECTIVE:\n        directiveDef = state.name ? schema.getDirective(state.name) : null;\n        break;\n      case RuleKinds.INTERFACE_DEF:\n        if (state.name) {\n          objectTypeDef = null;\n          interfaceDef = new GraphQLInterfaceType({\n            name: state.name,\n            interfaces: [],\n            fields: {}\n          });\n        }\n        break;\n      case RuleKinds.OBJECT_TYPE_DEF:\n        if (state.name) {\n          interfaceDef = null;\n          objectTypeDef = new GraphQLObjectType({\n            name: state.name,\n            interfaces: [],\n            fields: {}\n          });\n        }\n        break;\n      case RuleKinds.ARGUMENTS: {\n        if (!state.prevState) {\n          argDefs = null;\n        } else {\n          switch (state.prevState.kind) {\n            case RuleKinds.FIELD:\n              argDefs = fieldDef && fieldDef.args;\n              break;\n            case RuleKinds.DIRECTIVE:\n              argDefs = directiveDef && directiveDef.args;\n              break;\n            case RuleKinds.ALIASED_FIELD: {\n              const name = (_a = state.prevState) === null || _a === void 0 ? void 0 : _a.name;\n              if (!name) {\n                argDefs = null;\n                break;\n              }\n              const field = parentType ? getFieldDef(schema, parentType, name) : null;\n              if (!field) {\n                argDefs = null;\n                break;\n              }\n              argDefs = field.args;\n              break;\n            }\n            default:\n              argDefs = null;\n              break;\n          }\n        }\n        break;\n      }\n      case RuleKinds.ARGUMENT:\n        if (argDefs) {\n          for (let i = 0; i < argDefs.length; i++) {\n            if (argDefs[i].name === state.name) {\n              argDef = argDefs[i];\n              break;\n            }\n          }\n        }\n        inputType = argDef === null || argDef === void 0 ? void 0 : argDef.type;\n        break;\n      case RuleKinds.ENUM_VALUE:\n        const enumType = getNamedType(inputType);\n        enumValue = enumType instanceof GraphQLEnumType ? enumType.getValues().find((val) => val.value === state.name) : null;\n        break;\n      case RuleKinds.LIST_VALUE:\n        const nullableType = getNullableType(inputType);\n        inputType = nullableType instanceof GraphQLList ? nullableType.ofType : null;\n        break;\n      case RuleKinds.OBJECT_VALUE:\n        const objectType = getNamedType(inputType);\n        objectFieldDefs = objectType instanceof GraphQLInputObjectType ? objectType.getFields() : null;\n        break;\n      case RuleKinds.OBJECT_FIELD:\n        const objectField = state.name && objectFieldDefs ? objectFieldDefs[state.name] : null;\n        inputType = objectField === null || objectField === void 0 ? void 0 : objectField.type;\n        break;\n      case RuleKinds.NAMED_TYPE:\n        if (state.name) {\n          type = schema.getType(state.name);\n        }\n        break;\n    }\n  });\n  return {\n    argDef,\n    argDefs,\n    directiveDef,\n    enumValue,\n    fieldDef,\n    inputType,\n    objectFieldDefs,\n    parentType,\n    type,\n    interfaceDef,\n    objectTypeDef\n  };\n}\n__name(getTypeInfo, \"getTypeInfo\");\nCodeMirror.registerHelper(\"hint\", \"graphql\", (editor, options) => {\n  const schema = options.schema;\n  if (!schema) {\n    return;\n  }\n  const cur = editor.getCursor();\n  const token = editor.getTokenAt(cur);\n  const tokenStart = token.type !== null && /\"|\\w/.test(token.string[0]) ? token.start : token.end;\n  const position = new Position(cur.line, tokenStart);\n  const rawResults = getAutocompleteSuggestions(schema, editor.getValue(), position, token, options.externalFragments);\n  const results = {\n    list: rawResults.map((item) => ({\n      text: item.label,\n      type: item.type,\n      description: item.documentation,\n      isDeprecated: item.isDeprecated,\n      deprecationReason: item.deprecationReason\n    })),\n    from: { line: cur.line, ch: tokenStart },\n    to: { line: cur.line, ch: token.end }\n  };\n  if ((results === null || results === void 0 ? void 0 : results.list) && results.list.length > 0) {\n    results.from = CodeMirror.Pos(results.from.line, results.from.ch);\n    results.to = CodeMirror.Pos(results.to.line, results.to.ch);\n    CodeMirror.signal(editor, \"hasCompletion\", editor, results, token);\n  }\n  return results;\n});\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { i as isIgnored, L as LexRules, P as ParseRules } from \"./index.es.js\";\nimport { Kind } from \"graphql\";\nfunction onlineParser(options = {\n  eatWhitespace: (stream) => stream.eatWhile(isIgnored),\n  lexRules: LexRules,\n  parseRules: ParseRules,\n  editorConfig: {}\n}) {\n  return {\n    startState() {\n      const initialState = {\n        level: 0,\n        step: 0,\n        name: null,\n        kind: null,\n        type: null,\n        rule: null,\n        needsSeparator: false,\n        prevState: null\n      };\n      pushRule(options.parseRules, initialState, Kind.DOCUMENT);\n      return initialState;\n    },\n    token(stream, state) {\n      return getToken(stream, state, options);\n    }\n  };\n}\n__name(onlineParser, \"onlineParser\");\nfunction getToken(stream, state, options) {\n  var _a;\n  if (state.inBlockstring) {\n    if (stream.match(/.*\"\"\"/)) {\n      state.inBlockstring = false;\n      return \"string\";\n    } else {\n      stream.skipToEnd();\n      return \"string\";\n    }\n  }\n  const { lexRules, parseRules, eatWhitespace, editorConfig } = options;\n  if (state.rule && state.rule.length === 0) {\n    popRule(state);\n  } else if (state.needsAdvance) {\n    state.needsAdvance = false;\n    advanceRule(state, true);\n  }\n  if (stream.sol()) {\n    const tabSize = (editorConfig === null || editorConfig === void 0 ? void 0 : editorConfig.tabSize) || 2;\n    state.indentLevel = Math.floor(stream.indentation() / tabSize);\n  }\n  if (eatWhitespace(stream)) {\n    return \"ws\";\n  }\n  const token = lex(lexRules, stream);\n  if (!token) {\n    const matchedSomething = stream.match(/\\S+/);\n    if (!matchedSomething) {\n      stream.match(/\\s/);\n    }\n    pushRule(SpecialParseRules, state, \"Invalid\");\n    return \"invalidchar\";\n  }\n  if (token.kind === \"Comment\") {\n    pushRule(SpecialParseRules, state, \"Comment\");\n    return \"comment\";\n  }\n  const backupState = assign({}, state);\n  if (token.kind === \"Punctuation\") {\n    if (/^[{([]/.test(token.value)) {\n      if (state.indentLevel !== void 0) {\n        state.levels = (state.levels || []).concat(state.indentLevel + 1);\n      }\n    } else if (/^[})\\]]/.test(token.value)) {\n      const levels = state.levels = (state.levels || []).slice(0, -1);\n      if (state.indentLevel) {\n        if (levels.length > 0 && levels[levels.length - 1] < state.indentLevel) {\n          state.indentLevel = levels[levels.length - 1];\n        }\n      }\n    }\n  }\n  while (state.rule) {\n    let expected = typeof state.rule === \"function\" ? state.step === 0 ? state.rule(token, stream) : null : state.rule[state.step];\n    if (state.needsSeparator) {\n      expected = expected === null || expected === void 0 ? void 0 : expected.separator;\n    }\n    if (expected) {\n      if (expected.ofRule) {\n        expected = expected.ofRule;\n      }\n      if (typeof expected === \"string\") {\n        pushRule(parseRules, state, expected);\n        continue;\n      }\n      if ((_a = expected.match) === null || _a === void 0 ? void 0 : _a.call(expected, token)) {\n        if (expected.update) {\n          expected.update(state, token);\n        }\n        if (token.kind === \"Punctuation\") {\n          advanceRule(state, true);\n        } else {\n          state.needsAdvance = true;\n        }\n        return expected.style;\n      }\n    }\n    unsuccessful(state);\n  }\n  assign(state, backupState);\n  pushRule(SpecialParseRules, state, \"Invalid\");\n  return \"invalidchar\";\n}\n__name(getToken, \"getToken\");\nfunction assign(to, from) {\n  const keys = Object.keys(from);\n  for (let i = 0; i < keys.length; i++) {\n    to[keys[i]] = from[keys[i]];\n  }\n  return to;\n}\n__name(assign, \"assign\");\nconst SpecialParseRules = {\n  Invalid: [],\n  Comment: []\n};\nfunction pushRule(rules, state, ruleKind) {\n  if (!rules[ruleKind]) {\n    throw new TypeError(\"Unknown rule: \" + ruleKind);\n  }\n  state.prevState = Object.assign({}, state);\n  state.kind = ruleKind;\n  state.name = null;\n  state.type = null;\n  state.rule = rules[ruleKind];\n  state.step = 0;\n  state.needsSeparator = false;\n}\n__name(pushRule, \"pushRule\");\nfunction popRule(state) {\n  if (!state.prevState) {\n    return;\n  }\n  state.kind = state.prevState.kind;\n  state.name = state.prevState.name;\n  state.type = state.prevState.type;\n  state.rule = state.prevState.rule;\n  state.step = state.prevState.step;\n  state.needsSeparator = state.prevState.needsSeparator;\n  state.prevState = state.prevState.prevState;\n}\n__name(popRule, \"popRule\");\nfunction advanceRule(state, successful) {\n  var _a;\n  if (isList(state) && state.rule) {\n    const step = state.rule[state.step];\n    if (step.separator) {\n      const separator = step.separator;\n      state.needsSeparator = !state.needsSeparator;\n      if (!state.needsSeparator && separator.ofRule) {\n        return;\n      }\n    }\n    if (successful) {\n      return;\n    }\n  }\n  state.needsSeparator = false;\n  state.step++;\n  while (state.rule && !(Array.isArray(state.rule) && state.step < state.rule.length)) {\n    popRule(state);\n    if (state.rule) {\n      if (isList(state)) {\n        if ((_a = state.rule) === null || _a === void 0 ? void 0 : _a[state.step].separator) {\n          state.needsSeparator = !state.needsSeparator;\n        }\n      } else {\n        state.needsSeparator = false;\n        state.step++;\n      }\n    }\n  }\n}\n__name(advanceRule, \"advanceRule\");\nfunction isList(state) {\n  const step = Array.isArray(state.rule) && typeof state.rule[state.step] !== \"string\" && state.rule[state.step];\n  return step && step.isList;\n}\n__name(isList, \"isList\");\nfunction unsuccessful(state) {\n  while (state.rule && !(Array.isArray(state.rule) && state.rule[state.step].ofRule)) {\n    popRule(state);\n  }\n  if (state.rule) {\n    advanceRule(state, false);\n  }\n}\n__name(unsuccessful, \"unsuccessful\");\nfunction lex(lexRules, stream) {\n  const kinds = Object.keys(lexRules);\n  for (let i = 0; i < kinds.length; i++) {\n    const match = stream.match(lexRules[kinds[i]]);\n    if (match && match instanceof Array) {\n      return { kind: kinds[i], value: match[0] };\n    }\n  }\n}\n__name(lex, \"lex\");\nexport { onlineParser as o };\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nclass CharacterStream {\n  constructor(sourceText) {\n    this.getStartOfToken = () => this._start;\n    this.getCurrentPosition = () => this._pos;\n    this.eol = () => this._sourceText.length === this._pos;\n    this.sol = () => this._pos === 0;\n    this.peek = () => {\n      return this._sourceText.charAt(this._pos) ? this._sourceText.charAt(this._pos) : null;\n    };\n    this.next = () => {\n      const char = this._sourceText.charAt(this._pos);\n      this._pos++;\n      return char;\n    };\n    this.eat = (pattern) => {\n      const isMatched = this._testNextCharacter(pattern);\n      if (isMatched) {\n        this._start = this._pos;\n        this._pos++;\n        return this._sourceText.charAt(this._pos - 1);\n      }\n      return void 0;\n    };\n    this.eatWhile = (match) => {\n      let isMatched = this._testNextCharacter(match);\n      let didEat = false;\n      if (isMatched) {\n        didEat = isMatched;\n        this._start = this._pos;\n      }\n      while (isMatched) {\n        this._pos++;\n        isMatched = this._testNextCharacter(match);\n        didEat = true;\n      }\n      return didEat;\n    };\n    this.eatSpace = () => this.eatWhile(/[\\s\\u00a0]/);\n    this.skipToEnd = () => {\n      this._pos = this._sourceText.length;\n    };\n    this.skipTo = (position) => {\n      this._pos = position;\n    };\n    this.match = (pattern, consume = true, caseFold = false) => {\n      let token = null;\n      let match = null;\n      if (typeof pattern === \"string\") {\n        const regex = new RegExp(pattern, caseFold ? \"i\" : \"g\");\n        match = regex.test(this._sourceText.substr(this._pos, pattern.length));\n        token = pattern;\n      } else if (pattern instanceof RegExp) {\n        match = this._sourceText.slice(this._pos).match(pattern);\n        token = match === null || match === void 0 ? void 0 : match[0];\n      }\n      if (match != null) {\n        if (typeof pattern === \"string\" || match instanceof Array && this._sourceText.startsWith(match[0], this._pos)) {\n          if (consume) {\n            this._start = this._pos;\n            if (token && token.length) {\n              this._pos += token.length;\n            }\n          }\n          return match;\n        }\n      }\n      return false;\n    };\n    this.backUp = (num) => {\n      this._pos -= num;\n    };\n    this.column = () => this._pos;\n    this.indentation = () => {\n      const match = this._sourceText.match(/\\s*/);\n      let indent = 0;\n      if (match && match.length !== 0) {\n        const whiteSpaces = match[0];\n        let pos = 0;\n        while (whiteSpaces.length > pos) {\n          if (whiteSpaces.charCodeAt(pos) === 9) {\n            indent += 2;\n          } else {\n            indent++;\n          }\n          pos++;\n        }\n      }\n      return indent;\n    };\n    this.current = () => this._sourceText.slice(this._start, this._pos);\n    this._start = 0;\n    this._pos = 0;\n    this._sourceText = sourceText;\n  }\n  _testNextCharacter(pattern) {\n    const character = this._sourceText.charAt(this._pos);\n    let isMatched = false;\n    if (typeof pattern === \"string\") {\n      isMatched = character === pattern;\n    } else {\n      isMatched = pattern instanceof RegExp ? pattern.test(character) : pattern(character);\n    }\n    return isMatched;\n  }\n}\n__name(CharacterStream, \"CharacterStream\");\nclass Range {\n  constructor(start, end) {\n    this.containsPosition = (position) => {\n      if (this.start.line === position.line) {\n        return this.start.character <= position.character;\n      } else if (this.end.line === position.line) {\n        return this.end.character >= position.character;\n      } else {\n        return this.start.line <= position.line && this.end.line >= position.line;\n      }\n    };\n    this.start = start;\n    this.end = end;\n  }\n  setStart(line, character) {\n    this.start = new Position(line, character);\n  }\n  setEnd(line, character) {\n    this.end = new Position(line, character);\n  }\n}\n__name(Range, \"Range\");\nclass Position {\n  constructor(line, character) {\n    this.lessThanOrEqualTo = (position) => this.line < position.line || this.line === position.line && this.character <= position.character;\n    this.line = line;\n    this.character = character;\n  }\n  setLine(line) {\n    this.line = line;\n  }\n  setCharacter(character) {\n    this.character = character;\n  }\n}\n__name(Position, \"Position\");\nexport { CharacterStream as C, Position as P, Range as R };\n"],"sourceRoot":""}